{
  "info": {
    "name": "BSEB Connect API",
    "description": "Complete API collection for BSEB Connect backend",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth",
      "description": "Authentication endpoints",
      "item": [
        {
          "name": "Send OTP (Login)",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"identifier\": \"{{phone}}\"\n}"
            },
            "url": "{{base_url}}/auth/send-otp"
          }
        },
        {
          "name": "Verify OTP (Login)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.token) {",
                  "        pm.environment.set('token', jsonData.data.token);",
                  "        console.log('Token saved to environment');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"identifier\": \"{{phone}}\",\n  \"otp\": \"{{otp}}\"\n}"
            },
            "url": "{{base_url}}/auth/verify-otp"
          }
        },
        {
          "name": "Login with Password",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.token) {",
                  "        pm.environment.set('token', jsonData.data.token);",
                  "        console.log('Token saved to environment');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"identifier\": \"{{phone}}\",\n  \"password\": \"{{password}}\"\n}"
            },
            "url": "{{base_url}}/auth/login/password"
          }
        },
        {
          "name": "Send Registration OTP",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"identifier\": \"{{phone}}\"\n}"
            },
            "url": "{{base_url}}/auth/register/send-otp"
          }
        },
        {
          "name": "Verify Registration OTP",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"identifier\": \"{{phone}}\",\n  \"otp\": \"{{otp}}\"\n}"
            },
            "url": "{{base_url}}/auth/register/verify-otp"
          }
        },
        {
          "name": "Register (with files)",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {"key": "phone", "value": "{{phone}}", "type": "text"},
                {"key": "email", "value": "{{email}}", "type": "text"},
                {"key": "password", "value": "{{password}}", "type": "text"},
                {"key": "fullName", "value": "Test User", "type": "text"},
                {"key": "dob", "value": "01-01-2000", "type": "text"},
                {"key": "gender", "value": "Male", "type": "text"},
                {"key": "photo", "type": "file", "src": ""},
                {"key": "signature", "type": "file", "src": ""}
              ]
            },
            "url": "{{base_url}}/auth/register"
          }
        },
        {
          "name": "Forgot Password - Send OTP",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"identifier\": \"{{phone}}\"\n}"
            },
            "url": "{{base_url}}/auth/password/forgot"
          }
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"identifier\": \"{{phone}}\",\n  \"otp\": \"{{otp}}\",\n  \"newPassword\": \"NewPassword@123\"\n}"
            },
            "url": "{{base_url}}/auth/password/reset"
          }
        },
        {
          "name": "Verify BSEB Credentials",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"registrationNumber\": \"{{registration_number}}\",\n  \"dob\": \"02/04/2010\"\n}"
            },
            "url": "{{base_url}}/auth/verify-bseb-credentials"
          }
        }
      ]
    },
    {
      "name": "Profile",
      "description": "Profile management endpoints (require JWT)",
      "item": [
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "url": "{{base_url}}/profile"
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"Updated Name\",\n  \"address\": \"123 Main Street\",\n  \"district\": \"Patna\",\n  \"state\": \"Bihar\",\n  \"pincode\": \"800001\"\n}"
            },
            "url": "{{base_url}}/profile"
          }
        },
        {
          "name": "Upload Photo",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {"key": "image", "type": "file", "src": ""}
              ]
            },
            "url": "{{base_url}}/profile/image/photo"
          }
        },
        {
          "name": "Upload Signature",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {"key": "image", "type": "file", "src": ""}
              ]
            },
            "url": "{{base_url}}/profile/image/signature"
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"{{password}}\",\n  \"newPassword\": \"NewPassword@123\"\n}"
            },
            "url": "{{base_url}}/profile/change-password"
          }
        },
        {
          "name": "Upgrade Class",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"newClass\": \"12\"\n}"
            },
            "url": "{{base_url}}/profile/upgrade-class"
          }
        },
        {
          "name": "Delete Account",
          "request": {
            "method": "DELETE",
            "header": [
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "url": "{{base_url}}/profile"
          }
        }
      ]
    },
    {
      "name": "Sessions",
      "description": "Session management endpoints (require JWT)",
      "item": [
        {
          "name": "Get Active Sessions",
          "request": {
            "method": "GET",
            "header": [
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "url": "{{base_url}}/profile/sessions"
          }
        },
        {
          "name": "Revoke Specific Session",
          "request": {
            "method": "DELETE",
            "header": [
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "url": "{{base_url}}/profile/sessions/SESSION_ID_HERE"
          }
        },
        {
          "name": "Revoke Other Sessions",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "url": "{{base_url}}/profile/sessions/revoke-others"
          }
        },
        {
          "name": "Revoke All Sessions",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "url": "{{base_url}}/profile/sessions/revoke-all"
          }
        }
      ]
    },
    {
      "name": "BSEB External APIs",
      "description": "BSEB external API integration (require JWT)",
      "item": [
        {
          "name": "Get Form Data",
          "request": {
            "method": "GET",
            "header": [
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "url": "{{base_url}}/bseb/form-data/{{registration_number}}"
          }
        },
        {
          "name": "Get Theory Admit Card",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"registrationNumber\": \"R-711000111-23\"\n}"
            },
            "url": "{{base_url}}/bseb/admit-card/theory"
          }
        },
        {
          "name": "Get Theory Admit Card (by Roll)",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rollCode\": \"71100\",\n  \"rollNumber\": \"123456789\"\n}"
            },
            "url": "{{base_url}}/bseb/admit-card/theory"
          }
        },
        {
          "name": "Get Practical Admit Card",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"registrationNumber\": \"R-711000111-23\"\n}"
            },
            "url": "{{base_url}}/bseb/admit-card/practical"
          }
        },
        {
          "name": "Clear Form Data Cache",
          "request": {
            "method": "DELETE",
            "header": [
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "url": "{{base_url}}/bseb/form-data/cache/{{registration_number}}"
          }
        },
        {
          "name": "Clear Admit Card Cache",
          "request": {
            "method": "DELETE",
            "header": [
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "url": "{{base_url}}/bseb/admit-card/cache/R-711000111-23"
          }
        }
      ]
    }
  ]
}
